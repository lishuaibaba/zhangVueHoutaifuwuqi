webpackJsonp([4],{E7S6:function(t,e){},"gw/i":function(t,e){},vDIw:function(t,e){},xCIP:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Dd8w"),o=r.n(n),i=r("NYxO"),s=r("D/cR"),l={computed:o()({},Object(i.c)({list:"manger/list",total:"manger/total",page:"manger/page",size:"manger/size"})),components:{},data:function(){return{}},methods:o()({edit:function(t){this.$emit("edit",t)},del:function(t){var e=this;Object(s.B)({uid:t}).then(function(t){alert("删除成功"),e.requestuserList(),e.requestuserCount(),e.changeCurrentPages(1)})}},Object(i.b)({requestuserList:"manger/requestuserList",requestuserCount:"manger/requestuserCount",changeCurrentPages:"manger/changeCurrentPages"}),{changeCurrentPage:function(t){this.changeCurrentPages(t)}}),mounted:function(){this.requestuserList(),this.requestuserCount()}},a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.list,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[r("el-table-column",{attrs:{prop:"id",label:"用户编号",sortable:"",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"username",label:"用户名称",sortable:"",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"rolename",label:"所属角色",sortable:"",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?r("el-button",{attrs:{type:"primary"}},[t._v("启用")]):r("el-button",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return t.edit(e.row.uid)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){return t.del(e.row.uid)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-pagination",{attrs:{"page-size":t.size,layout:"prev, pager, next",total:t.total,"current-page":t.page},on:{"current-change":t.changeCurrentPage}})],1)},staticRenderFns:[]};var u=r("VU/8")(l,a,!1,function(t){r("E7S6")},null,null).exports,c={props:["info"],computed:o()({},Object(i.c)({roleList:"role/list"})),components:{},data:function(){return{width:"160px",form:{roleid:"",username:"",password:"",status:1},defaultProps:{children:"children",label:"label"}}},methods:o()({empty:function(){this.form={roleid:"",username:"",password:"",status:1}},hide:function(){this.info.isShow=!1},add:function(){var t=this;Object(s.z)(this.form).then(function(e){t.empty(),t.hide(),t.requestuserList(),t.requestuserCount()})}},Object(i.b)({requestRoleList:"role/requestRoleList",requestuserList:"manger/requestuserList",requestuserCount:"manger/requestuserCount"}),{look:function(t){var e=this;Object(s.E)({uid:t}).then(function(r){e.form=r.data.list,e.form.password="",e.form.uid=t})},update:function(){var t=this;Object(s.C)(this.form).then(function(e){t.requestuserList(),t.hide()})}}),mounted:function(){0==this.roleList.length&&this.requestRoleList()}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-dialog",{attrs:{title:t.info.title,visible:t.info.isShow},on:{"update:visible":function(e){return t.$set(t.info,"isShow",e)}}},[r("el-form",{attrs:{model:t.form}},[r("el-form-item",{attrs:{label:"所属角色","label-width":t.width}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.roleid,callback:function(e){t.$set(t.form,"roleid",e)},expression:"form.roleid"}},[r("el-option",{attrs:{label:"请选择",value:0,disabled:""}}),t._v(" "),t._l(t.roleList,function(t){return r("el-option",{key:t.id,attrs:{label:t.rolename,value:t.id}})})],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"用户名","label-width":t.width}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"密码","label-width":t.width}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"状态","label-width":t.width}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("\n          >\n        ")])],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.info.isShow=!1}}},[t._v("取 消")]),t._v(" "),t.info.isAdd?r("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添 加")]):r("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var f={components:{vList:u,vAdd:r("VU/8")(c,d,!1,function(t){r("gw/i")},null,null).exports},data:function(){return{info:{isShow:!1,title:"管理员添加",isAdd:!0}}},methods:{willAdd:function(){this.info.isShow=!this.info.isShow,this.info.title="管理员添加",this.info.isAdd=!0,this.$refs.one.empty()},edit:function(t){this.info.isShow=!0,this.$refs.one.look(t),this.info.title="管理员修改",this.info.isAdd=!1}},mounted:function(){}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-button",{attrs:{type:"primary"},on:{click:t.willAdd}},[t._v("添加")]),t._v(" "),r("v-add",{ref:"one",attrs:{info:t.info}}),t._v(" "),r("v-list",{on:{edit:function(e){return t.edit(e)}}})],1)},staticRenderFns:[]};var h=r("VU/8")(f,m,!1,function(t){r("vDIw")},null,null);e.default=h.exports}});
//# sourceMappingURL=4.79fd105a0b037bed6aaa.js.map